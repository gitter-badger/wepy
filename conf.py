#!/usr/bin/env python
# coding: utf-8
#
# Most of this is taken directly from the Wego project @
# https://github.com/schachmat/wego (thank you schachmat!)
#

uri = "http://api.worldweatheronline.com/free/v2/weather.ashx?"
APIKey = ""
num_days = 3
imperial = True
location = "Los Angeles"

wind_direction = {
    "N": "\033[1m↓\033[0m",
    "NNE": "\033[1m↓\033[0m",
    "NE": "\033[1m↙\033[0m",
    "ENE": "\033[1m↙\033[0m",
    "E": "\033[1m←\033[0m",
    "ESE": "\033[1m←\033[0m",
    "SE": "\033[1m↖\033[0m",
    "SSE": "\033[1m↖\033[0m",
    "S": "\033[1m↑\033[0m",
    "SSW": "\033[1m↑\033[0m",
    "SW": "\033[1m↗\033[0m",
    "WSW": "\033[1m↗\033[0m",
    "W": "\033[1m→\033[0m",
    "WNW": "\033[1m→\033[0m",
    "NW": "\033[1m↘\033[0m",
    "NNW": "\033[1m↘\033[0m"
}

unit_wind = {
    False: "km/h",
    True: "mph"
}

unit_rain = {
    False: "mm",
    True: "in"
}

unit_temp = {
    False: "C",
    True: "F"
}

unit_vis = {
    False: "km",
    True: "mi"
}

icon = {
    'unknown':
    [
        "    .-.      ",
        "     __)     ",
        "    (        ",
        "     `-’     ",
        "      •      "
    ],
    'sunny':
    [
        "\033[38;5;226m    \\   /    \033[0m",
        "\033[38;5;226m     .-.     \033[0m",
        "\033[38;5;226m  ― (   ) ―  \033[0m",
        "\033[38;5;226m     `-’     \033[0m",
        "\033[38;5;226m    /   \\    \033[0m"
    ],
    'partlyCloudy':
    [
        "\033[38;5;226m   \\  /\033[0m      ",
        "\033[38;5;226m _ /\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m   \\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "             "
    ],
    'cloudy':
    [
        "             ",
        "\033[38;5;250m     .--.    \033[0m",
        "\033[38;5;250m  .-(    ).  \033[0m",
        "\033[38;5;250m (___.__)__) \033[0m",
        "             "
    ],
    'veryCloudy':
    [
        "             ",
        "\033[38;5;240;1m     .--.    \033[0m",
        "\033[38;5;240;1m  .-(    ).  \033[0m",
        "\033[38;5;240;1m (___.__)__) \033[0m",
        "             "
    ],
    'lightShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "\033[38;5;111m     ‘ ‘ ‘ ‘ \033[0m",
        "\033[38;5;111m    ‘ ‘ ‘ ‘  \033[0m"
    ],
    'heavyShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;240;1m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;240;1m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;240;1m(___(__) \033[0m",
        "\033[38;5;21;1m   ‚‘‚‘‚‘‚‘  \033[0m",
        "\033[38;5;21;1m   ‚’‚’‚’‚’  \033[0m"
    ],
    'lightSnowShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "\033[38;5;255m     *  *  * \033[0m",
        "\033[38;5;255m    *  *  *  \033[0m"
    ],
    'heavySnowShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;240;1m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;240;1m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;240;1m(___(__) \033[0m",
        "\033[38;5;255;1m    * * * *  \033[0m",
        "\033[38;5;255;1m   * * * *   \033[0m"
    ],
    'lightSleetShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "\033[38;5;111m     ‘ \033[38;5;255m*\033[38;5;111m ‘ \033[38;5;255m* \033[0m",
        "\033[38;5;255m    *\033[38;5;111m ‘ \033[38;5;255m*\033[38;5;111m ‘  \033[0m"
    ],
    'thunderyShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "\033[38;5;228;5m    ⚡\033[38;5;111;25m‘ ‘\033[38;5;228;5m⚡\033[38;5;111;25m‘ ‘ \033[0m",
        "\033[38;5;111m    ‘ ‘ ‘ ‘  \033[0m"
    ],
    'thunderyHeavyRain':
    [
        "\033[38;5;240;1m     .-.     \033[0m",
        "\033[38;5;240;1m    (   ).   \033[0m",
        "\033[38;5;240;1m   (___(__)  \033[0m",
        "\033[38;5;21;1m  ‚‘\033[38;5;228;5m⚡\033[38;5;21;25m‘‚\033[38;5;228;5m⚡\033[38;5;21;25m‚‘   \033[0m",
        "\033[38;5;21;1m  ‚’‚’\033[38;5;228;5m⚡\033[38;5;21;25m’‚’   \033[0m"
    ],
    'thunderySnowShowers':
    [
        "\033[38;5;226m _`/\"\"\033[38;5;250m.-.    \033[0m",
        "\033[38;5;226m  ,\\_\033[38;5;250m(   ).  \033[0m",
        "\033[38;5;226m   /\033[38;5;250m(___(__) \033[0m",
        "\033[38;5;255m     *\033[38;5;228;5m⚡\033[38;5;255;25m *\033[38;5;228;5m⚡\033[38;5;255;25m * \033[0m",
        "\033[38;5;255m    *  *  *  \033[0m"
    ],
    'lightRain':
    [
        "\033[38;5;250m     .-.     \033[0m",
        "\033[38;5;250m    (   ).   \033[0m",
        "\033[38;5;250m   (___(__)  \033[0m",
        "\033[38;5;111m    ‘ ‘ ‘ ‘  \033[0m",
        "\033[38;5;111m   ‘ ‘ ‘ ‘   \033[0m"
    ],
    'heavyRain':
    [
        "\033[38;5;240;1m     .-.     \033[0m",
        "\033[38;5;240;1m    (   ).   \033[0m",
        "\033[38;5;240;1m   (___(__)  \033[0m",
        "\033[38;5;21;1m  ‚‘‚‘‚‘‚‘   \033[0m",
        "\033[38;5;21;1m  ‚’‚’‚’‚’   \033[0m"
    ],
    'lightSnow':
    [
        "\033[38;5;250m     .-.     \033[0m",
        "\033[38;5;250m    (   ).   \033[0m",
        "\033[38;5;250m   (___(__)  \033[0m",
        "\033[38;5;255m    *  *  *  \033[0m",
        "\033[38;5;255m   *  *  *   \033[0m"
    ],
    'heavySnow':
    [
        "\033[38;5;240;1m     .-.     \033[0m",
        "\033[38;5;240;1m    (   ).   \033[0m",
        "\033[38;5;240;1m   (___(__)  \033[0m",
        "\033[38;5;255;1m   * * * *   \033[0m",
        "\033[38;5;255;1m  * * * *    \033[0m"
    ],
    'lightSleet':
    [
        "\033[38;5;250m     .-.     \033[0m",
        "\033[38;5;250m    (   ).   \033[0m",
        "\033[38;5;250m   (___(__)  \033[0m",
        "\033[38;5;111m    ‘ \033[38;5;255m*\033[38;5;111m ‘ \033[38;5;255m*  \033[0m",
        "\033[38;5;255m   *\033[38;5;111m ‘ \033[38;5;255m*\033[38;5;111m ‘   \033[0m"
    ],
    'fog':
    [
        "             ",
        "\033[38;5;251m _ - _ - _ - \033[0m",
        "\033[38;5;251m  _ - _ - _  \033[0m",
        "\033[38;5;251m _ - _ - _ - \033[0m",
        "             "
    ]
}

codes = {
    '113': icon['sunny'],
    '116': icon['partlyCloudy'],
    '119': icon['cloudy'],
    '122': icon['veryCloudy'],
    '143': icon['fog'],
    '176': icon['lightShowers'],
    '179': icon['lightSleetShowers'],
    '182': icon['lightSleet'],
    '185': icon['lightSleet'],
    '200': icon['thunderyShowers'],
    '227': icon['lightSnow'],
    '230': icon['heavySnow'],
    '248': icon['fog'],
    '260': icon['fog'],
    '263': icon['lightShowers'],
    '266': icon['lightRain'],
    '281': icon['lightSleet'],
    '284': icon['lightSleet'],
    '293': icon['lightRain'],
    '296': icon['lightRain'],
    '299': icon['heavyShowers'],
    '302': icon['heavyRain'],
    '305': icon['heavyShowers'],
    '308': icon['heavyRain'],
    '311': icon['lightSleet'],
    '314': icon['lightSleet'],
    '317': icon['lightSleet'],
    '320': icon['lightSnow'],
    '323': icon['lightSnowShowers'],
    '326': icon['lightSnowShowers'],
    '329': icon['heavySnow'],
    '332': icon['heavySnow'],
    '335': icon['heavySnowShowers'],
    '338': icon['heavySnow'],
    '350': icon['lightSleet'],
    '353': icon['lightShowers'],
    '356': icon['heavyShowers'],
    '359': icon['heavyRain'],
    '362': icon['lightSleetShowers'],
    '365': icon['lightSleetShowers'],
    '368': icon['lightSnowShowers'],
    '371': icon['heavySnowShowers'],
    '374': icon['lightSleetShowers'],
    '377': icon['lightSleet'],
    '386': icon['thunderyShowers'],
    '389': icon['thunderyHeavyRain'],
    '392': icon['thunderySnowShowers'],
    '395': icon['heavySnowShowers']
}

temp_color = {
    -15: '027',
    -14: '027',
    -13: '027',
    -12: '033',
    -11: '033',
    -10: '033',
    -9: '039',
    -8: '039',
    -7: '039',
    -6: '045',
    -5: '045',
    -4: '045',
    -3: '051',
    -2: '051',
    -1: '051',
    0: '050',
    1: '050',
    2: '049',
    3: '049',
    4: '048',
    5: '048',
    6: '047',
    7: '047',
    8: '046',
    9: '046',
    10: '082',
    11: '082',
    12: '082',
    13: '118',
    14: '118',
    15: '118',
    16: '154',
    17: '154',
    18: '154',
    19: '190',
    20: '190',
    21: '190',
    22: '226',
    23: '226',
    24: '226',
    25: '220',
    26: '220',
    27: '220',
    28: '214',
    29: '214',
    30: '214',
    31: '208',
    32: '208',
    33: '208',
    34: '202',
    35: '202',
    36: '202'
}

wind_color = {
    0: '082',
    1: '082',
    2: '082',
    3: '082',
    4: '118',
    5: '118',
    6: '118',
    7: '154',
    8: '154',
    9: '154',
    10: '190',
    11: '190',
    12: '190',
    13: '226',
    14: '226',
    15: '226',
    16: '220',
    17: '220',
    18: '220',
    19: '220',
    20: '214',
    21: '214',
    22: '214',
    23: '214',
    24: '208',
    25: '208',
    26: '208',
    27: '208',
    28: '202',
    29: '202',
    30: '202',
    31: '202'
}
